datastore:
  cls: lsst.daf.butler.datastores.posixDatastore.PosixDatastore
  root: <butlerRoot>/butler_test_repository
  templates:
    default: "{run:/}/{datasetType}.{component:?}/{tract:?}/{patch:?}/{physical_filter:?}/{instrument:?}_{visit:?}"
    calexp: "{run:/}/{datasetType}.{component:?}/{datasetType}_v{visit}_f{physical_filter:?}_{component:?}"
    metric: "{run:/}/{datasetType}.{component:?}/{instrument:?}_{datasetType}_v{visit:08d}_f{physical_filter}_d{detector:?}_{component:?}"
    test_metric_comp: "{run:/}/{datasetType}.{component:?}/{datasetType}_v{visit:08d}_f{instrument}_{component:?}"
    metric2: "{run:/}/{datasetType}.{component:?}/{tract:?}/{patch:?}/{physical_filter:?}/{instrument:?}_{visit.name:?}"
    metric3: "{run:/}/{datasetType}/{instrument}"
    metric4: "{run:/}/{component:?}_{instrument}_{physical_filter}_{visit:08d}"
    physical_filter+: "{run:/}/{instrument}_{physical_filter}"
    instrument<DummyCamComp>:
      metric33: "{run:/}/{instrument}/{datasetType}.{component:?}/{datasetType}_v{visit:08d}_f{physical_filter}_{component:?}"
  formatters:
    default:
      lsst.daf.butler.tests.testFormatters.FormatterTest:
        max: 10
        min: 2
        comment: Default comment
        recipe: recipe1
    write_recipes:
      lsst.daf.butler.tests.testFormatters.FormatterTest:
        recipe1:
          mode: red
        recipe2:
          mode: green
    StructuredDataDictYaml: lsst.daf.butler.formatters.yaml.YamlFormatter
    StructuredDataListYaml: lsst.daf.butler.formatters.yaml.YamlFormatter
    StructuredDataDictJson: lsst.daf.butler.formatters.json.JsonFormatter
    StructuredDataListJson: lsst.daf.butler.formatters.json.JsonFormatter
    StructuredDataDictPickle: lsst.daf.butler.formatters.pickle.PickleFormatter
    StructuredDataListPickle: lsst.daf.butler.formatters.pickle.PickleFormatter
    StructuredData: lsst.daf.butler.formatters.yaml.YamlFormatter
    StructuredDataNoComponents: lsst.daf.butler.formatters.pickle.PickleFormatter
    StructuredDataJson: lsst.daf.butler.formatters.json.JsonFormatter
    StructuredDataPickle: lsst.daf.butler.formatters.pickle.PickleFormatter
    ThingOne: lsst.daf.butler.formatters.yaml.YamlFormatter
    datasetType.component: lsst.daf.butler.formatters.yaml.YamlFormatter
    pvi: lsst.daf.butler.formatters.pickle.PickleFormatter
    paramtest:
      formatter: lsst.daf.butler.tests.testFormatters.FormatterTest
      parameters:
        max: 5
        comment: Additional commentary
    StructuredComposite: lsst.daf.butler.formatters.yaml.YamlFormatter
    instrument<DummyHSC>:
      pvi: lsst.daf.butler.formatters.json.JsonFormatter
      StructuredData: lsst.daf.butler.formatters.pickle.PickleFormatter
      DummySC: lsst.daf.butler.formatters.yaml.YamlFormatter
      visit+physical_filter+instrument: lsst.daf.butler.formatters.pickle.PickleFormatter
    StructuredCompositeReadComp: lsst.daf.butler.tests.testFormatters.MetricsExampleFormatter
    StructuredCompositeReadCompNoDisassembly: lsst.daf.butler.tests.testFormatters.MetricsExampleFormatter
    StructuredDataDataTest: lsst.daf.butler.tests.testFormatters.MetricsExampleDataFormatter
  composites: !include composites.yaml
